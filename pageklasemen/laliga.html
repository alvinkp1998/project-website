<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Klasemen La Liga</title>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css"
        integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
    <!-- Font Awesome  -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
        integrity="sha512-1ycn6IcaQQ40/MKBW2W4Rhis/DbILU74C1vSrLJxCq57o941Ym01SwNsOMqvEBFlcgUa6xLiPY/NS5R+E6ztJQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!-- Our CSS -->
    <link rel="stylesheet" href="../css/style.css">
</head>

<body>
    <img src="" alt="">
    <!-- Navbar -->
    <nav class="navbar navbar-dark navbar-expand-lg shadow-lg fixed-top">
        <div class="container">
            <button class="navbar-toggler" data-target="#my-nav" data-toggle="collapse" aria-controls="my-nav"
                aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div id="my-nav" class="collapse navbar-collapse">
                <ul class="navbar-nav mr-auto">
                    <li class="nav-item">
                        <a class="nav-link active" href="../index.html"><i class="fas fa-angle-left"></i></i> Home</a>
                    </li>

                </ul>
            </div>
        </div>
    </nav>
    <!-- End of Navbar  -->
    <div class="container table-klasemen mb-3">
        <img src="../assets/img/laliga.png" class="logo-2 float-left mb-2 mr-4" alt="logolaliga">
        <h2 class="pt-5"> Klasemen La Liga Spanyol</h2>
        <h3>Musim 2021/2022</h3>
    </div>
    <div class="container ">
        <table class="table table-bordered table-striped">
            <thead class="thead theadklasemen">
                <tr>
                    <th class="position">Pos</th>
                    <th class="w-auto">Klub</th>
                    <th class="text-center">MP</th>
                    <th class="text-center">W</th>
                    <th class="text-center">D</th>
                    <th class="text-center">L</th>
                    <th class="text-center">GF</th>
                    <th class="text-center">GA</th>
                    <th class="text-center">GD</th>
                    <th class="text-center">Pts</th>
                </tr>
            </thead>
            <tbody id="klasemenLaliga">

            </tbody>
        </table>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"
        integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-Piv4xVNRyMGpqkS2by6br4gNJ7DXjqk09RmUpJ8jgGtD7zP9yug3goQfGII0yAns" crossorigin="anonymous">
    </script>
    <!-- Axios  -->
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <!-- Script JS -->
    <script>
        const headers = {
            'Content-Type': 'application/json',
            'X-Auth-Token': '818e0f5cbdb54eaab21ef58c5b47ae8a'
        };

        //Klasemen Liga Spanyol
        //GET API Klasemen
        const APIKlasemenPD = 'https://api.football-data.org/v2/competitions/PD/standings?standingType=TOTAL'
        const getAPIKlasemenPD = async () => {
            try {
                const APIKlasemen = await axios.get(APIKlasemenPD, {
                    headers
                })
                let dataKlasemen = APIKlasemen.data.standings
                let rowTables = ""
                let ranking = 1
                dataKlasemen.forEach(data => {
                    console.log(dataKlasemen)
                    data.table.forEach(data => {
                        rowTables += `
                    <tr>
                        <th class="text-center">${ranking++}</th>
                        <td class="w-auto"><img src="${data.team.crestUrl}" class="logoTeam img-responsive mr-3" alt="logoTeam">${data.team.name}</td>
                        <td class="text-center">${data.playedGames}</td>
                        <td class="text-center">${data.won}</td>
                        <td class="text-center">${data.draw}</td>
                        <td class="text-center">${data.lost}</td>
                        <td class="text-center">${data.goalsFor}</td>
                        <td class="text-center">${data.goalsAgainst}</td>
                        <td class="text-center">${data.goalDifference}</td> 
                        <td class="text-center">${data.points}</td>
                    </tr>`
                    });
                });
                $(klasemenLaliga).html(rowTables)
            } catch (err) {
                alert(err)
            }
        }
        getAPIKlasemenPD()
    </script>
</body>

</html>